<html>

<head>

    <!-- Load ioBroker scripts and styles-->
    <link rel="stylesheet" type="text/css" href="../../css/adapter.css" />
    <link rel="stylesheet" type="text/css" href="../../lib/css/materialize.css">

    <script type="text/javascript" src="../../lib/js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="../../socket.io/socket.io.js"></script>

    <script type="text/javascript" src="../../js/translate.js"></script>        <!-- iobroker/node_modules/iobroker.admin/www/js/ -->
    <script type="text/javascript" src="../../lib/js/materialize.js"></script>  <!-- iobroker/node_modules/iobroker.admin/www/lib/js/ -->
    <script type="text/javascript" src="../../js/adapter-settings.js"></script> <!-- iobroker/node_modules/iobroker.admin/www/js/ -->

    <!-- ------- FOR selectID.js (node_modules/iobroker.admin/www/lib/js/) --------------------- -->
    <script type="text/javascript"          src="../../lib/js/jquery-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../../lib/css/fancytree/ui.fancytree.min.css"/>
    <script type="text/javascript"          src="../../lib/js/jquery.fancytree-all.min.js"></script>
    <script type="text/javascript"          src="../../lib/js/selectID.js"></script>
    <!-- ------- FOR selectID.js (node_modules/iobroker.admin/www/lib/js/) --------------------- -->

    <!-- words.js, of course -->    
    <script type="text/javascript" src="words.js"></script>

    <!-- Load our own files -->
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script type="text/javascript" src="index_m.js"></script>
  

</head>

<body>

    <div class="m adapter-container">
        <!-- ============= HEADER WITH LOGO AND BUTTONS ============= -->
        <div id="header-area" class="row" >
            <div id="header-logo-title" class="col s6" >
                <img class="logo" src="smartcontrol.png" >
                <p>
                    <span class="h-title">Smart Control</span><br />
                    <span class="h-sub-title">Controlling ioBroker smarter…</p>
                </p>
            </div>
        </div>

        <!-- ============= MAIN SECTION ============= -->
        <div class="row">

            <!-- +++++++++++++ DEFINE TABS MENU +++++++++++++ -->
            <div class="col s12" style="padding-left:0;padding-right:0; margin-top: 0px; margin-bottom: 1px; background-color:#174475; box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);">
                <ul class="tabs blue lighten-4">
                    <!-- see description: https://materializecss.com/grid.html -->
                    <li class="tab col s1.6"><a href="#tabMain">Start</a></li>
                    <li class="tab col s1.6"><a href="#tabDevices">1. <span class="translate">Zielgeräte</span></a></li>
                    <li class="tab col s1.6"><a href="#tabConditions">2. <span class="translate">Zusätzliche Bedingungen</span></a></li>
                    <li class="tab col s1.6"><a href="#tabTriggers">3. <span class="translate">Auslöser</span></a></li>
                    <li class="tab col s1.6"><a href="#tabZones">4. <span class="translate">Zonen</span></a></li>
                    <li class="tab col s1.6"><a href="#tabSchedules">5. <span class="translate">Zeitpläne</span></a></li>
                    <li class="tab col s1.6"><a href="#tabOptions" class="translate">– Weitere Optionen</a></li>
                </ul>
            </div>

            <!-- +++++++++++++ TAB: MAIN +++++++++++++ -->

            <div id="tabMain" class="col s12 page">
                <!-- Section "How to start?" -->
                <div class="row">
                    <div class="col s12">
                        <p style="font-size: 1.25em; font-weight: bold; margin-top: 1.5em; margin-bottom: 2.0em; ">For English or any other language: <a target="_blank" href="https://github.com/Mic-M/ioBroker.smartcontrol/blob/master/docs/translations.md"><span class="translate">Please click here</span></a></p>
                        <h5 class="translate">Anleitung</h5>
                        <ul class="collapsible">
                            <li>
                                <div class="collapsible-header"><i class="material-icons">expand_more</i><h6 class="translate">Wie konfiguriere ich diesen Adapter?</h6></div>
                                <div class="collapsible-body instructions">
                                    <p style="margin-top:0px" class="translate">Du gehst einfach durch die einzelnen Options-Seiten (obige Reiter) wie folgt durch:</p>
                                    <table>
                                        <thead>
                                        <tr>
                                            <th class="translate">Reiter</th>
                                            <th class="translate">Was machen</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td class="translate">1. ZIELGERÄTE</td>
                                            <td class="translate">Hier trägst du all deine zu schaltenden Ziel-Geräte ein, also Lampen, Radio, usw.</td>
                                        </tr>
                                        <tr>
                                            <td class="translate">2. ZUSÄTZLICHE BEDINGUNGEN</td>
                                            <td class="translate"><i>Optional</i>: Hier trägst du zusätzliche Bedingungen ein, die (nicht) zutreffen sollen, z.B.: keiner anwesend, Feiertag heute, usw.</td>
                                        </tr>
                                        <tr>
                                            <td class="translate">3. AUSLÖSER</td>
                                            <td class="translate">Hier trägst du alle Auslöser ein, also: Bewegungsmelder, Wandschalter, etc., sowie zeitabhängige Auslöser.</td>
                                        </tr>
                                        <tr>
                                            <td class="translate">4. ZONEN</td>
                                            <td class="translate">Hier definierst du alle "Zonen" (z.B. Badezimmer 1.OG, Kaffeeecke, usw.) und weist Auslöser und zu schaltende Zielgeräte zu.</td>
                                        </tr>
                                        <tr>
                                            <td class="translate">5. ZEITPLÄNE</td>
                                            <td class="translate">Zum Schluss definierst du hier, unter welchen Bedingungen die Zielgeräte angeschaltet werden, sobald ein Auslöser aulöst.</td>
                                        </tr>
                                    </tbody>
                                    </table>
                                    <p>Im Reiter <span style="color: #0d47a1;">WEITERE OPTIONEN</span> kannst du weitere Adapter-Optionen einstellen.</p>

                                </div>
                            </li>
                            <li>
                                <div class="collapsible-header"><i class="material-icons">expand_more</i><h6 class="translate">Für Tester</h6></div>
                                <div class="collapsible-body instructions">
                                    <p style="margin-top:0px; line-height: 2.0em;" class="translate">
                                        Dieser Adapter bietet Test-Datenpunkte unter <code>smartcontrol.x.Test</code>. Diese Datenpunkte stellen keinerlei Funktionen oder Features zur Verfügung und dienen nur zum Testen dieses Adapters.
                                        Nach der ersten Installation einer Instanz dieses Adapters sind die Adapteroptionen mit einigen dieser Datenpunkte vorbelegt.
                                        Beginne mit dem Testen, indem du z.B. einen Auslöser-Datenpunkt aktivierst, indem du z.B. <code>smartcontrol.0.Test.trigger.Bathroom_motion</code> auf <code>true</code> setzt. Dann prüfst du, ob etwas ausgelöst wird (basierend auf den Einstellungen in der Tabelle "Zeitpläne" etc.).
                                        <br>Das ioBroker-Log (ioBroker Admin > Log) liefert detaillierte Informationen. Für das Debugging setzt du bitte den Log-Level der Adapterinstanz auf 'debug', damit du viel mehr Informationen im Log erhältst.
                                    </p>
                                </div>
                            </li>
                            <li>
                                <div class="collapsible-header"><i class="material-icons">expand_more</i><h6 class="translate">Du brauchst Hilfe? Es gibt ein Problem? Du hast einen Verbesserungsvorschlag?</h6></div>
                                <div class="collapsible-body instructions">
                                    <p style="margin-top:0px" class="translate">
                                        <table>
                                            <thead>
                                            <tr>
                                                <th class="translate">Deine Thematik</th>
                                                <th class="translate">Was du machen sollst</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td class="translate">Ich habe eine Frage</td>
                                                <td class="translate">Frage am besten im ioBroker-Forum, idealerweise referenzierst du <code>@Mic</code> so dass ich als Entwickler eine Meldung bekomme. Aktueller Forum-Thread für diesen Adapter ist <a href="https://forum.iobroker.net/topic/33691/planung-neuer-adapter-smart-control" target="_blank">Planung neuer Adapter: Smart Control (in German)</a>. Allerdings wird sich dieser Link noch ändern und neue Forum-Threads folgen, basierend auf dem Fortschritt der Adapter-Entwicklung.</td>
                                            </tr>
                                            <tr>
                                                <td class="translate">I habe einen Fehler/Bug</td>
                                                <td class="translate">
                                                    Keine Sorge :-) Dieser Adapter ist in einer frühen Entwicklungsphase und Fehler werden wohl noch vorkommen.
                                                    Zunächst: Prüfe das ioBroker Log auf sämtliche Hinweise und gehe diesen entsprechend nach.
                                                    <br>Falls du nicht sicher bist, ob du alles richtig gemacht hast in den Adapter-Einstellungen, siehe oben "Ich habe eine Frage".
                                                    <br>Falls du wirklich einen durch diesen Adapter verursachten Fehler hast, dann gehe bitte zu <strong><a href="https://github.com/Mic-M/ioBroker.smartcontrol/issues" target="_blank">GitHub: Smart Control Issues</a></strong> und erstelle ein neues Issue.
                                                    Bitte beschreibe ausführlich die Problematik und genau und Schritt für Schritt, was du getan hast als/bevor der Fehler auftrat. Setze außerdem das Log Level des Adapters auf "Debug", reproduziere den Fehler und stelle die Logausgabe in Code-Tags (<code>```</code> hier Log einfügen... <code>```</code>) im Issue ein.
                                                    ioBroker schneidet Log-Zeilen ab, daher gehst du dazu bitte direkt ins Logfile (durch Klicken auf "Download Log").
                                                    <br><br><strong>Wichtig für Github:</strong> Wenn Deutsch deine Muttersprache ist, dann schreibe auch bitte in Deutsch und nicht Englisch auf Github. Das macht unsere Kommunikation deutlich einfacher und du must dir keinen abbrechen :-) Nicht deutsch sprechende User können das dennoch dank Google Translate super mitlesen und sich einbringen.
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="translate">Ich möchte ein neues Feature vorschlagen</td>
                                                <td class="translate">Wie gesagt, dieser Adapter ist in einer sehr frühen Entwicklungsphase, und es werden noch einige Features kommen. Bisherige Anfragen habe ich [hier gesammelt](https://github.com/Mic-M/ioBroker.smartcontrol/blob/master/README.md#to-do-to-be-considered-for-further-development-and-future-releases).
                                                    Falls du weitere Vorschläge hast, kannst du gerne ein neues Github-Issue aufmachen: <a href="https://github.com/Mic-M/ioBroker.smartcontrol/issues" target="_blank"><strong>GitHub: Smart Control Issues</strong></a>. 
                                                    <br><br><strong>Wichtig für Github:</strong> Wenn Deutsch deine Muttersprache ist, dann schreibe auch bitte in Deutsch und nicht Englisch auf Github. Das macht unsere Kommunikation deutlich einfacher und du must dir keinen abbrechen :-) Nicht deutsch sprechende User können das dennoch dank Google Translate super mitlesen und sich einbringen.
                                                </td>
                                            </tr>

                                        </tbody>
                                        </table>
                                    </p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- +++++++++++++ TAB: TARGET DEVICES +++++++++++++ -->
            <div id="tabDevices" class="col s12 page">
                <div class="row spaceTop3em">
                    <div class="col s12">
                        <ul class="collapsible">
                            <li>
                                <div class="collapsible-header config-section"><h5 class="translate">Ziel-Geräte</h5><i class="material-icons">help_outline</i>
                                </div>
                                <div class="collapsible-body">
                                    <p style="margin-top:0px" class="translate">

                                        Gib hier alle Zielgeräte ein, die Sie schalten möchtest, sobald ein Auslöser aktiviert wird und die Bedingungen in der Tabelle Zeitpläne erfüllt sind.
                                        <br>
                                        <br>
                                        <i>Warum sind hier unterschiedliche Datenpunkte für das Ein- und Ausschalten?</i>
                                        <br>Normalerweise sind diese gleich (Datenpunkt erwartet <code>true</code>/<code>false</code>) für das Ein-/Ausschalten, aber in bestimmten Fällen benötigen Benutzer einen anderen Datenpunkt und Datenpunkt-Wert, um ein Gerät ein-oder auszuschalten.
                                        Beispiel: <code>fully-tablet-control.0.device.tablet_bathroom.commands.screenOn</code> und <code>fully-tablet-control.0.device.tablet_bathroom.commands.screenOff</code>.
                                        <br>
                                        Du kannst auch Datenpunkte hinzufügen, die nicht boolesch (<code>true</code>/<code>false</code>), sondern String oder Zahl sind.
                                        <br>
                                        <br>
                                        Für jede Tabellenzeile fügt dieser Adapter verknüpfte Datenpunkte zu <code>smartcontrol.x.targetDevices.xxx</code> hinzu. Wenn du diese Datenpunkte änderst, wird der ursprüngliche Ziel-Datenpunkt entsprechend geändert, und umgekehrt.

                                    </p>
                                    <table>
                                        <thead>
                                          <tr>
                                              <th class="translate">Spalte</th>
                                              <th class="translate">Pflichtfeld</th>
                                              <th class="translate">Beschreibung</th>
                                          </tr>
                                        </thead>
                                
                                        <tbody>
                                          <tr>
                                            <td class="translate">✓</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Aktiviert/deaktiviert diese Tabellenzeile. Falls nicht aktiviert, wird diese Tabellenzeile vom Adapter nicht beachtet.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Geräte-Name</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Name des Gerätes deiner Wahl. Verbotene Zeichen: <code>[</code> <code>]</code> <code>*</code> <code>,</code> <code>;</code> <code>'</code> <code>"</code> <code>`</code> <code><</code> <code>></code> <code>\</code> <code>?</code></td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Datenpunkt zum einschalten</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Datenpunkt des Zielgerätes zum Einschalten, sobald ein Auslöser auslöst and Zeitpläne/Bedingungen zutreffen.</td>
                                                                                    </tr>
                                          <tr>
                                            <td class="translate">Wert für 'an'</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Datenpunkt-Wert, der in 'Datenpunkt zum einschalten' gesetzt wird. Du kannst <code>true</code>, <code>false</code>, Nummern wie <code>144</code>, or Strings wie <code>Schalte Radio an</code> verwenden. Sämtliche Leerzeichen und Anführungszeichen (wie <code>"</code>) am Anfang und Ende werden automatisch entfernt.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Datenpunkt zum ausschalten</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Datenpunkt des Zielgerätes zum Ausschalten, sobald ein Timeout erreicht wurde (z.B. keine Bewegung mehr und die Bewegungsmelder-Sekunden sind heruntergezählt auf 0) oder falls der Datenpunkt <code>smartcontrol.x.targetDevices.xxx.[Device Name]</code> geändert wurde.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Wert für 'aus'</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Datenpunkt-Wert, der in 'Datenpunkt zum ausschalten' gesetzt wird. Du kannst <code>true</code>, <code>false</code>, Nummern wie <code>144</code>, or Strings wie <code>Schalte Radio an</code> verwenden. Sämtliche Leerzeichen und Anführungszeichen (wie <code>"</code>) am Anfang und Ende werden automatisch entfernt.</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                </div>
                            </li>
                        </ul>
                        <!-- Start Options Table -->
                        <div class="col s12" id="tableTargetDevices">
                            <p><a class="btn-floating waves-effect waves-light blue table-button-add"><i class="material-icons">add</i></a></p>
                            <div class="table-values-div">
                                <table class="table-values">
                                    <thead>
                                        <tr>
                                            <th style="width: 30px" class="header" data-name="active" data-type="checkbox">✓</th>
                                            <th class="header translate" data-name="name">Geräte-Name</th>
                                            <th style="width: 40px;" data-buttons="stateSelectPopupOnState" class="header"></th>
                                            <th class="header translate" data-name="onState">Datenpunkt zum einschalten</th>
                                            <th style="width: 120px" class="header translate" data-name="onValue">Wert für 'an'</th>
                                            <th style="width: 40px;" data-buttons="stateSelectPopupOffState" class="header"></th>
                                            <th class="header translate" data-name="offState">Datenpunkt zum ausschalten</th>
                                            <th style="width: 120px" class="header translate" data-name="offValue">Wert für 'aus'</th>
                                            <th style="width: 160px" class="header" data-buttons="up down copy delete"></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>                        
                        <!-- End Options Table -->
                    </div>
                </div>

            </div>

            <!-- +++++++++++++ TAB: CONDITIONS +++++++++++++ -->
            <div id="tabConditions" class="col s12 page">
                <div class="row spaceTop3em">
                    <div class="col s12">
                        <ul class="collapsible">
                            <li>
                                <div class="collapsible-header config-section"><h5 class="translate">Zusätzliche Bedingungen</h5><i class="material-icons">help_outline</i></div>
                                <div class="collapsible-body">
                                    <p style="margin-top:0px" class="translate">
                                        Diese Tabelle ist optional:
                                        <br>Hier trägst du zusätzliche Bedingungen ein, die (nicht) zutreffen sollen, z.B.: Jemand ist anwesend, Keiner ist anwesend, Heute ist Feiertag, Oma schläft, usw.
                                        <br>
                                        <br>Diese kannst du dann in den entsprechenden anderen Optionen-Tabellen auswählen.
                                    </p>
                                    <table>
                                        <thead>
                                          <tr>
                                              <th class="translate">Spalte</th>
                                              <th class="translate">Pflichtfeld</th>
                                              <th class="translate">Beschreibung</th>
                                          </tr>
                                        </thead>
                                
                                        <tbody>
                                          <tr>
                                            <td class="translate">✓</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Aktiviert/deaktiviert diese Tabellenzeile. Falls nicht aktiviert, wird diese Tabellenzeile vom Adapter nicht beachtet.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Name der Bedingung</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Hier beliebigen Name deiner Bedingung eintragen, z.B. 'Feiertag Heute'.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Datenpunkt der Bedingung</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Datenpunkt für diese Bedingung, wie <code>javascript.0.Holiday.isHolidayToday</code>.</td>
                                        </tr>
                                          <tr>
                                            <td class="translate">DP-Wert</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Datenpunkt-Wert der Bedingung, wenn sie zutreffen soll. Du kannst <code>true</code>, <code>false</code>, Nummern wie <code>144</code>, or Strings wie <code>Oma schläft jetzt</code> verwenden. Sämtliche Leerzeichen und Anführungszeichen (wie <code>"</code>) am Anfang und Ende werden automatisch entfernt.</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                </div>
                            </li>
                        </ul>
                        <!-- Start Options Table -->
                        <div class="col s12" id="tableConditions">
                            <p><a class="btn-floating waves-effect waves-light blue table-button-add"><i class="material-icons">add</i></a></p>
                            <div class="table-values-div">
                                <table class="table-values">
                                    <thead>
                                        <tr>
                                            <th style="width: 30px" class="header" data-name="active" data-type="checkbox">✓</th>
                                            <th class="header translate" data-name="name">Name der Bedingung</th>
                                            <th style="width: 40px;" data-buttons="stateSelectPopupConditionState" class="header"></th>
                                            <th class="header translate" data-name="conditionState">Datenpunkt der Bedingung</th>
                                            <th style="width: 120px" class="header translate" data-name="conditionValue">DP-Wert</th>
                                            <th style="width: 160px" class="header" data-buttons="up down copy delete"></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>                        
                        <!-- End Options Table -->
                    </div>
                </div>            
            </div>


            <!-- +++++++++++++ TAB: TRIGGERS +++++++++++++ -->

            <div id="tabTriggers" class="col s12 page">
                <div class="row spaceTop3em">
                    <div class="col s12">
                        <ul class="collapsible">
                            <li>
                                <div class="collapsible-header config-section"><h5 class="translate">Bewegungsmelder</h5><i class="material-icons">help_outline</i></div>
                                <div class="collapsible-body">
                                    <p style="margin-top:0px" class="translate">
                                        Hier erfasst du deine Bewegungsmelder. Du kannst optional auch noch einen Helligkeits-Datenpunkt und einen Grenzwert für diesen festlegen.
                                    </p>
                                    <table>
                                        <thead>
                                          <tr>
                                              <th class="translate">Spalte</th>
                                              <th class="translate">Pflichtfeld</th>
                                              <th class="translate">Beschreibung</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td class="translate">✓</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Aktiviert/deaktiviert diese Tabellenzeile. Falls nicht aktiviert, wird diese Tabellenzeile vom Adapter nicht beachtet.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Name für Bewegungsmelder</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Beliebiger Name für den Bewegungsmelder.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Datenpunkt Bewegungsmelder</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Datenpunkt des Bewegungsmelders</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">DP-Wert</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Datenpunkt-Wert, den der Bewegungsmelder setzt, sobald eine Bewegung erkannt wird (typischerweise ist das <code>true</code>). Du kannst <code>true</code>, <code>false</code>, Nummern wie <code>144</code>, or Strings wie <code>Bewegung jetzt</code> verwenden. Sämtliche Leerzeichen und Anführungszeichen (wie <code>"</code>) am Anfang und Ende werden automatisch entfernt.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Sek</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Nach dieser Anzahl an Sekunden (und keinr zwischendurch weiterer erkannter Bewegung) werden die Zielgeräte ausgeschaltet.</td>
                                          </tr>
                                          <!--
                                          <tr>
                                            <td>✘</td>
                                            <td class="translate">Nein</td>
                                            <td class="translate"><strong>for the future: this option is </strong>If activated: If a target device was manually switched on (so not via motion sensor) and a motion is detected afterwards, no timer will be set to turn off after x number of seconds.</td>
                                          </tr>
                                          -->
                                          <tr>
                                            <td class="translate">Datenpunkt Helligkeit</td>
                                            <td class="translate">Nein</td>
                                            <td class="translate">Optional: Datenpunkt, der die aktuelle Helligkeit widergibt.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Grenze</td>
                                            <td class="translate">Nein</td>
                                            <td class="translate">Grenzwert für die Helligkeit. Falls die aktuelle Helligkeit von 'Datenpunkt Helligkeit' größer als diese Zahl ist, wird die Bewegung ignoriert.</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                </div>
                            </li>
                        </ul>
                        <!-- Start Options Table -->
                        <div class="col s12" id="tableTriggerMotion">
                            <p><a class="btn-floating waves-effect waves-light blue table-button-add"><i class="material-icons">add</i></a></p>
                            <div class="table-values-div">
                                <table class="table-values">
                                    <thead>
                                        <tr>
                                            <th style="width: 30px" class="header" data-name="active" data-type="checkbox">✓</th>
                                            <th class="header translate" data-name="name">Name für Bewegungsmelder</th>
                                            <th style="width: 40px;" data-buttons="stateSelectPopupMotionState" class="header"></th>
                                            <th class="header translate" data-name="stateId">Datenpunkt Bewegungsmelder</th>
                                            <th style="width: 120px" class="header translate" data-name="stateVal">DP-Wert</th>
                                            <th style="width: 60px" class="header translate" data-name="duration" data-type="number">Sek</th>
                                            <!-- <th style="width: 30px" class="mOptional header" data-name="notIfManual" data-type="checkbox">✘</th> -->
                                            <th style="width: 40px;" data-buttons="stateSelectPopupBriState" class="header"></th>
                                            <th class="mOptional header translate" data-name="briStateId">Datenpunkt Helligkeit</th>
                                            <th style="width: 60px" class="mOptional header translate" data-name="briThreshold" data-type="number">Grenze</th>
                                            <th style="width: 160px" class="header" data-buttons="up down copy delete"></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>                        
                        <!-- End Options Table -->
                    </div>
                </div>            
            
            
                <div class="row spaceTop3em">
                    <div class="col s12">
                        <ul class="collapsible">
                            <li>
                                <div class="collapsible-header config-section"><h5 class="translate">Other Devices</h5><i class="material-icons">help_outline</i></div>
                                <div class="collapsible-body">
                                    <p style="margin-top:0px" class="translate">
                                        Enter other triggers like wall switches, someone entering your home, etc. These defined items trigger the zone (turning on).
                                    </p>
                                    <table>
                                        <thead>
                                          <tr>
                                              <th class="translate">Spalte</th>
                                              <th class="translate">Pflichtfeld</th>
                                              <th class="translate">Beschreibung</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td class="translate">✓</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Aktiviert/deaktiviert diese Tabellenzeile. Falls nicht aktiviert, wird diese Tabellenzeile vom Adapter nicht beachtet.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Device Name</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Enter a device name of your choice.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Device State Path</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Path of the device state.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">State Value</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Once the state value of 'Device State Path' is equal to this value, the trigger activates. You can enter <code>true</code>, <code>false</code>, numbers like <code>144</code>, or strings like <code>ABCDEF</code>. Any spaces or quotation marks at beginning or end of this value will be disregarded.</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                </div>
                            </li>
                        </ul>
                        <!-- Start Options Table -->
                        <div class="col s12" id="tableTriggerDevices">
                            <p><a class="btn-floating waves-effect waves-light blue table-button-add"><i class="material-icons">add</i></a></p>
                            <div class="table-values-div">
                                <table class="table-values">
                                    <thead>
                                        <tr>
                                            <th style="width: 30px" class="header" data-name="active" data-type="checkbox">✓</th>
                                            <th class="header translate" data-name="name">Device Name</th>
                                            <th style="width: 40px;" data-buttons="stateSelectPopupStateId" class="header"></th>
                                            <th class="header translate" data-name="stateId">Device State Path</th>
                                            <th style="width: 120px" class="header translate" data-name="stateVal">State Value</th>
                                            <th style="width: 160px" class="header" data-buttons="up down copy delete"></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>                        
                        <!-- End Options Table -->
                    </div>
                </div>                        

                <div class="row spaceTop3em">
                    <div class="col s12">
                        
                        <ul class="collapsible">
                            <li>
                                <div class="collapsible-header config-section"><h5 class="translate">Time Specific Triggers (Schedules)</h5><i class="material-icons">help_outline</i></div>
                                <div class="collapsible-body">
                                    <p style="margin-top:0px" class="translate">
                                        These triggers activate at at the times you specify.
                                    </p>
                                    <table>
                                        <thead>
                                          <tr>
                                              <th class="translate">Spalte</th>
                                              <th class="translate">Pflichtfeld</th>
                                              <th class="translate">Beschreibung</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td class="translate">✓</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Aktiviert/deaktiviert diese Tabellenzeile. Falls nicht aktiviert, wird diese Tabellenzeile vom Adapter nicht beachtet.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Name of Time Trigger</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Enter a time specific trigger name of your choice.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Time</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">You can enter an hour/minute string like <code>23:30</code>, or a astro name like <code>sunset</code> and you can include offset in minutes, like <code>goldenHourEnd+30</code> or <code>sunset-60</code>.
                                                                <br>Also, you can use Cron, like <code>5 4 * * *</code>. For Cron syntax, see for example:</span> <a style="text-decoration: underline" href="https://crontab.guru/" target="_blank">Crontab.guru</a>.
                                                                <br><br>For hour/minute (like <code>23:30</code>) or an astro time (like <code>sunset</code>), execution will be every day. In "Schedules" tables you can limit this to certain weekdays etc.
                                            </td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Additional Conditions</td>
                                            <td class="translate">Nein</td>
                                            <td class="translate">Select additional conditions, like 'Public Holiday Today' etc. If you leave this empty, no additional conditions will be checked. If you add more than one condition (like 'Public Holiday Today' + 'Bathroom Window is open'), ALL conditions must apply so that this trigger activates.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Never if</td>
                                            <td class="translate">Nein</td>
                                            <td class="translate">Select conditions, which should never be true, like 'No one at home, 'Bathroom Temperature below 18°C', etc. If ANY of these 'never if' condition is met, the trigger will not activate.</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                </div>
                            </li>
                        </ul>
                       
                        <!-- Start Options Table -->
                        <div class="col s12" id="tableTriggerTimes">
                            <p><a class="btn-floating waves-effect waves-light blue table-button-add"><i class="material-icons">add</i></a></p>
                            <div class="table-values-div">
                                <table class="table-values">
                                    <thead>
                                        <tr>
                                            <th style="width: 30px" class="header" data-name="active" data-type="checkbox">✓</th>
                                            <th class="header translate" data-name="name">Name of Time Trigger</th>
                                            <th style="width: 140px" class="header translate" data-name="time">Time</th>
                                            <th class="mOptional header translate" data-name="additionalConditions" data-type="select multiple">Additional Conditions</th>
                                            <th class="mOptional header translate" data-name="never" data-type="select multiple">Never if</th>
                                            <th style="width: 160px" class="header" data-buttons="up down copy delete"></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>                        
                        <!-- End Options Table -->
                    </div>
                </div>                        


            </div>           


            

            <!-- +++++++++++++ TAB: ZONES +++++++++++++ -->
            <div id="tabZones" class="col s12 page">
                <div class="row spaceTop3em">
                    <div class="col s12">
                        <ul class="collapsible">
                            <li>
                                <div class="collapsible-header config-section"><h5 class="translate">Zones</h5><i class="material-icons">help_outline</i></div>
                                <div class="collapsible-body">
                                    <p style="margin-top:0px" class="translate">
                                        Define all your zones (like Bathroom 1st floor, Coffee Corner, etc.) and assign your triggers and devices you defined before.
                                    </p>
                                    <table>
                                        <thead>
                                          <tr>
                                              <th class="translate">Spalte</th>
                                              <th class="translate">Pflichtfeld</th>
                                              <th class="translate">Beschreibung</th>
                                          </tr>
                                        </thead>
                                
                                        <tbody>
                                          <tr>
                                            <td class="translate">✓</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Aktiviert/deaktiviert diese Tabellenzeile. Falls nicht aktiviert, wird diese Tabellenzeile vom Adapter nicht beachtet.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Zone Name</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Enter a zone name of your choice.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Triggers</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Select one ore more triggers to assign to this zone.</td>
                                        </tr>
                                          <tr>
                                            <td class="translate">Target Devices</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Select one or more target devices to switch once a trigger activates and schedules and conditions are met.</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                </div>
                            </li>
                        </ul>
                        <!-- Start Options Table -->
                        <div class="col s12" id="tableZones">
                            <p><a class="btn-floating waves-effect waves-light blue table-button-add"><i class="material-icons">add</i></a></p>
                            <div class="table-values-div">
                                <table class="table-values">
                                    <thead>
                                        <tr>
                                            <th style="width: 30px" class="header" data-name="active" data-type="checkbox">✓</th>
                                            <th class="header translate" data-name="name">Zone Name</th>
                                            <th class="header translate" data-name="triggers" data-type="select multiple">Triggers</th>
                                            <th class="header translate" data-name="targets" data-type="select multiple">Target Devices</th>
                                            <!-- <th class="header translate" data-name="offAfter" data-type="number">Always off after x secs</th> -->
                                            <th style="width: 160px" class="header" data-buttons="up down copy delete"></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>                        
                        <!-- End Options Table -->
                    </div>
                </div>            
            </div>

            <!-- +++++++++++++ TAB: SCHEDULES +++++++++++++ -->
            <div id="tabSchedules" class="col s12 page">
                <div class="row spaceTop3em">
                    <div class="col s12">
                        <ul class="collapsible">
                            <li>
                                <div class="collapsible-header config-section"><h5 class="translate">Schedules</h5><i class="material-icons">help_outline</i></div>
                                <div class="collapsible-body">
                                    <p style="margin-top:0px" class="translate">
                                        Define under which conditions the target devices should be switched once a trigger is activated.
                                    </p>
                                    <table>
                                        <thead>
                                          <tr>
                                              <th class="translate">Spalte</th>
                                              <th class="translate">Pflichtfeld</th>
                                              <th class="translate">Beschreibung</th>
                                          </tr>
                                        </thead>
                                
                                        <tbody>
                                          <tr>
                                            <td class="translate">✓</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Aktiviert/deaktiviert diese Tabellenzeile. Falls nicht aktiviert, wird diese Tabellenzeile vom Adapter nicht beachtet.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Zone</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Select a zone. You can add multiple table rows with the same zone. The adapter will check all rows if any row matches the conditions.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Start / End</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Once a trigger is activated, the current time must be within this period to switch the target devices. You can enter an hour/minute string like <code>23:30</code>, or a astro name like <code>sunset</code> and you can include offset in minutes, like <code>goldenHourEnd+30</code> or <code>sunset-60</code>.<br> A start time of <code>sunset</code> and End time of <code>03:00</code> (so over midnight) is also possible, if you activate "Exceed Midnight" on the Start tab under 'Schedule Options'.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Mon-Sun</td>
                                            <td class="translate">Ja</td>
                                            <td class="translate">Target will be switched if these weekdays apply.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Additional Conditions</td>
                                            <td class="translate">Nein</td>
                                            <td class="translate">Select additional conditions, like 'Public Holiday Today' etc. If you leave this empty, no additional conditions will be checked. If you add more than one condition (like 'Public Holiday Today' + 'Bathroom Window is open'), ALL conditions must apply to switch target device.</td>
                                          </tr>
                                          <tr>
                                            <td class="translate">Never if</td>
                                            <td class="translate">Nein</td>
                                            <td class="translate">Select conditions, which should never be true if an associated trigger is activated, like 'No one at home, 'Bathroom Temperature below 18°C', etc. If ANY of these 'never if' condition is met, no target devices will be switched.</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                </div>
                            </li>
                        </ul>

                        <!-- Start Options Table -->
                        <div class="col s12" id="tableSchedules">
                            <p><a class="btn-floating waves-effect waves-light blue table-button-add"><i class="material-icons">add</i></a></p>
                            <div class="table-values-div">
                                <table class="table-values">
                                    <thead>
                                        <tr>
                                            <th style="width: 30px" class="header" data-name="active" data-type="checkbox">✓</th>
                                            <th style="width: 240px" class="header translate" data-name="name" data-type="select">Zone</th>
                                            <th style="width: 120px" class="header translate" data-name="start">Start</th>
                                            <th style="width: 120px" class="header translate" data-name="end">End</th>
                                            <th style="width: 35px" class="header translate" data-name="mon" data-type="checkbox">Mon</th>
                                            <th style="width: 35px" class="header translate" data-name="tue" data-type="checkbox">Tue</th>
                                            <th style="width: 35px" class="header translate" data-name="wed" data-type="checkbox">Wed</th>
                                            <th style="width: 35px" class="header translate" data-name="thu" data-type="checkbox">Thu</th>
                                            <th style="width: 35px" class="header translate" data-name="fri" data-type="checkbox">Fri</th>
                                            <th style="width: 35px" class="header translate" data-name="sat" data-type="checkbox">Sat</th>
                                            <th style="width: 35px" class="header translate" data-name="sun" data-type="checkbox">Sun</th>
                                            <th class="mOptional header translate" data-name="additionalConditions" data-type="select multiple">Additional Conditions</th>
                                            <th class="mOptional header translate" data-name="never" data-type="select multiple">Never if</th>
                                            <th style="width: 160px" class="header" data-buttons="up down copy delete"></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>                        
                        <!-- End Options Table -->
                    </div>
                </div> 
            </div>
            
			<!-- +++++++++++++ TAB: OPTIONS +++++++++++++ -->
            <div id="tabOptions" class="col s12 page">
                <div class="intro">
                    <h5 class="translate" style="margin-top: 2em;">Further Adapter Options</h5>
                    <p style="font-size: 0.9em; line-height: 1.5" class="translate">Besides the options in each tab, you have some additional options as follows. Click to open.</p>
                </div>        
                <ul class="collapsible" style="margin-top: 1.5em;">
                    <!-- +++ Schedule Options +++  -->
                    <li class="lighten-2">
                        <div class="collapsible-header"><i class="material-icons">expand_more</i><h6 class="translate">Schedule Options</h6></div>
                        <div class="collapsible-body">
                            <div class="row">
                                <div class="col s12">
                                    <h6 class="translate info">Exceed Midnight</h6>
                                    <p class="translate info">If you have a start time of 22:00 and an end time of 02:00, then this is considered as not valid, since it would exceed midnight. By activating this option, the period is being exceeded over midnight.</p>
                                    <div class="input-field col s12 m6">
                                        <input type="checkbox" class="value" id="exceedMidnight" />
                                        <label for="exceedMidnight" class="translate">Exceed Midnight</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <!-- +++ Trigger Options +++  -->
                    <li>
                        <div class="collapsible-header"><i class="material-icons">expand_more</i><h6 class="translate">Trigger Options</h6></div>
                        <div class="collapsible-body">
                            <div class="row">
                                <div class="col s12">
                                    <h6 class="translate info">Motion Sensors: Disregard optional brightness level if turn-off timer is still running</h6>
                                    <p class="translate info">Falls unter '3. TRIGGERS' Bewegungssensoren und zugehörige Helligkeits-Datenpunkte definiert sind, kann man hiermit folgendes optimieren:
                                        <br><br>
                                        'Bri' ist der oberere Schwellwert der Helligkeit, über dem nicht mehr eingeschaltet wird wenn der Bewegungsmelder agiert. 
                                        Dies ist jedoch nicht praxisnah, wenn der Bewegungsmelder z.B. Lichter schaltet, denn dann werden keine wiederkehrenden Bewegungen mehr erkannt, falls Licht an und 'Bri' höchstwahrscheinlich damit überhalb des Schwellwertes ist.
                                        Mit Aktivierung dieser Option wird der Helligkeitsdatenpunkt ignoriert, wenn ein Bewegungsmelder auslöste und der Abschalt-Timer (z.B. 2 Minuten) noch läuft.
                                    </p>
                                    <div class="input-field col s12 m6">
                                        <input type="checkbox" class="value" id="motionNoBriIfTimer" />
                                        <label for="motionNoBriIfTimer" class="translate">Disregard bri if motion sensor off-timer us running</label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col s12">
                                    <h6 class="translate info">Trigger-Datenpunkte unterhalb javascript.x/0_userdata.0</h6>
                                    <p class="translate info">Änderungen von Datenpunkten, die unterhalb von Adapter-Instanzen sind, werden nur getriggert, wenn acknowledge (ack) = true (also States gültig/bestätigt sind). Für user-eigene Datenpunkte unterhalb javascript.x/0_userdata.0 kann man das hier ändern.</p>
                                    <div class="input-field col s3 select">
                                        <select class="value" value="true" id="triggerStatesAck">
                                            <option class="translate" value="false" selected>ack:false (ignore ack:true)</option>
                                            <option class="translate" value="true">ack: true (ignore ack:false)</option>
                                            <option class="translate" value="any">ack: any (true or false)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col s12">
                                    <h6 class="translate info">Disregard trigger, if last triggering of same trigger occurred less than x seconds ago</h6>
                                    <p class="translate info">For stability reasons, trigger state changes will be disregarded if the same trigger triggers again in less than this amount of seconds. You can change the number of seconds accordingly. Less than 2 seconds is not allowed.</p>
                                    <div class="input-field col s12 m6">
                                        <input class="value validate" placeholder="10" id="limitTriggerInterval" type="number" min="2" max="10000">
                                        <label for="limitTriggerInterval" class="translate">2 or more seconds are required</label>
                                        <span class="helper-text translate">Seconds</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <!-- +++ General Options +++  -->
                    <li>
                        <div class="collapsible-header"><i class="material-icons">expand_more</i><h6 class="translate">General Options</h6></div>
                        <div class="collapsible-body">
                            <div class="row">
                                <div class="col s12">
                                    <p class="translate info">If activated, the info log will be showing way more information.</p>
                                    <div class="input-field col s12 m6">
                                        <input type="checkbox" class="value" id="extendedInfoLog" />
                                        <label for="extendedInfoLog" class="translate">Extended Info Log</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>            


        </div>

        <!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->
        <div class="m material-dialogs">
            <div id="dialog-select-member" class="modal modal-fixed-footer">
                <div class="modal-content">
                    <div class="row">
                        <div class="col s12 title"></div>
                    </div>
                    <div class="row">
                        <div class="col s12 dialog-content">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a class="modal-action modal-close waves-effect waves-green btn btn-set"><i class="large material-icons left">check</i><span class="translate">Select</span></a>
                    <a class="modal-action modal-close waves-effect waves-green btn btn-close"><i class="large material-icons left ">close</i><span class="translate">Cancel</span></a>
                </div>
            </div>        
        </div>
        <!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->


    </div> <!-- Adapter Container-->

</body>

</html>